inherit_gem:
  rubocop-rails-omakase: rubocop.yml

plugins:
  - rubocop-minitest

AllCops:
  # ParserEngine: parser_prism
  TargetRubyVersion: 3.3

# wrapped invocations should line up arguments
Layout/ArgumentAlignment:
  EnforcedStyle: with_first_argument

# Ensure the proper ordering of class macros, etc.
Layout/ClassStructure:
  Enabled: true

# `end` should be aligned with the keyword that started the block
Layout/EndAlignment:
  EnforcedStyleAlignWith: keyword

# Line up adjacent assignments
Layout/ExtraSpacing:
  ForceEqualSignAlignment: true

# disabled by rubocop-rails-omakase
Layout/IndentationConsistency:
  EnforcedStyle: normal
  Enabled: true

# disabled by rubocop-rails-omakase
Layout/IndentationWidth:
  Width: 2
  Enabled: true

# No spaces inside array literals: `[1, 2]`. Matches method invocation: `foo(1, 2)`.
Layout/SpaceInsideArrayLiteralBrackets:
  EnforcedStyle: no_space

# `{|x| x }` No need for the first space
Layout/SpaceInsideBlockBraces:
  SpaceBeforeBlockParameters: false

# No spaces inside hash literals: `{a: 1}`. Matches method invocation: `foo(a: 1)`
Layout/SpaceInsideHashLiteralBraces:
  EnforcedStyle: no_space

# `if x = 1` is fine and should be used relatively often
Lint/AssignmentInCondition:
  Enabled: false

Minitest/AssertInDelta: # new in 0.10
  Enabled: true
Minitest/AssertKindOf: # new in 0.10
  Enabled: true
Minitest/AssertOperator: # new in 0.32
  Enabled: true
Minitest/AssertOutput: # new in 0.10
  Enabled: true
Minitest/AssertPathExists: # new in 0.10
  Enabled: true
Minitest/AssertPredicate: # new in 0.18
  Enabled: true
Minitest/AssertRaisesCompoundBody: # new in 0.21
  Enabled: true
Minitest/AssertRaisesWithRegexpArgument: # new in 0.22
  Enabled: true
Minitest/AssertSame: # new in 0.26
  Enabled: true
Minitest/AssertSilent: # new in 0.10
  Enabled: true
Minitest/AssertWithExpectedArgument: # new in 0.11
  Enabled: true
Minitest/AssertionInLifecycleHook: # new in 0.10
  Enabled: true
Minitest/DuplicateTestRun: # new in 0.19
  Enabled: true
Minitest/EmptyLineBeforeAssertionMethods: # new in 0.23
  Enabled: true
Minitest/Focus: # new in 0.35
  Enabled: true
Minitest/LifecycleHooksOrder: # new in 0.28
  Enabled: true
Minitest/LiteralAsActualArgument: # new in 0.10
  Enabled: true
Minitest/MultipleAssertions: # new in 0.10
  Enabled: false
Minitest/NonExecutableTestMethod: # new in 0.34
  Enabled: true
Minitest/NonPublicTestMethod: # new in 0.27
  Enabled: true
Minitest/RedundantMessageArgument: # new in 0.34
  Enabled: true
Minitest/RefuteInDelta: # new in 0.10
  Enabled: true
Minitest/RefuteKindOf: # new in 0.10
  Enabled: true
Minitest/RefuteOperator: # new in 0.32
  Enabled: true
Minitest/RefutePathExists: # new in 0.10
  Enabled: true
Minitest/RefutePredicate: # new in 0.18
  Enabled: true
Minitest/RefuteSame: # new in 0.26
  Enabled: true
Minitest/ReturnInTestMethod: # new in 0.31
  Enabled: true
Minitest/SkipEnsure: # new in 0.20
  Enabled: true
Minitest/SkipWithoutReason: # new in 0.24
  Enabled: true
Minitest/TestFileName:
  Enabled: true # ensure test filenames include "test"
Minitest/TestMethodName: # new in 0.10
  Enabled: true
Minitest/UnreachableAssertion: # new in 0.14
  Enabled: true
Minitest/UnspecifiedException: # new in 0.10
  Enabled: true
Minitest/UselessAssertion: # new in 0.26
  Enabled: true

# Prefer `refute` over `assert_not`. `assert_not_*` are rails-only.
Rails/RefuteMethods:
  EnforcedStyle: refute

# `{x:}` preferred over `x: x` or `:x => x`. Ignored for > ruby-3.3 code.
Style/HashSyntax:
  EnforcedShorthandSyntax: always

# Prefer "x" over 'x' for all files.
Style/StringLiterals:
  Enabled: true
  EnforcedStyle: double_quotes
  Include: ["*"]
